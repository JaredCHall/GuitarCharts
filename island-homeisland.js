import{a as e,b as B}from"./chunk-GMILD7TZ.js";import{a as d}from"./chunk-GPMBDFQC.js";import"./chunk-JP5XG2OT.js";var g=class{constructor(n,r,a){this.interval=n;this.string=r;this.fret=a}};var f=class{name(){return"Major Scale"}type(){return"major"}pattern(){return[2,2,1,2,2,2,1]}charlie(){return[["3","4",null,"5",null],["6",null,"7","1",null],["2",null,"3","4",null],["5",null,"6",null,null],["7","1",null,"2",null],["3","4",null,"5",null]]}alpha(){return[[null,"5",null,"6",null],["7","1",null,"2",null],["3","4",null,"5",null],["6",null,"7","1",null],[null,"2",null,"3","4"],[null,"6",null,"6",null]]}golf(){return[[null,"6",null,"7","1"],[null,"2",null,"3","4"],[null,"5",null,"6",null],["7","1",null,"2",null],[null,"3","4",null,"5"],[null,"6",null,"7","1"]]}echo(){return[["7","1",null,"2",null],["3","4",null,"5",null],["6",null,"7","1",null],["2",null,"3","4",null],[null,"5",null,"6",null],["7","1",null,"2",null]]}delta(){return[[null,"2",null,"3","4"],[null,"5",null,"6",null],["7","1",null,"2",null],["3","4",null,"5",null],[null,"6",null,"7","1"],[null,"2",null,"3","4"]]}};var p=class{name(){return"Natural Minor"}type(){return"minor"}pattern(){return[2,1,2,2,1,2,2]}charlie(){return[[null,"4",null,"5","\u266D6"],[null,"\u266D7",null,"1",null],["2","\u266D3",null,"4",null],["5","\u266D6",null,"\u266D7",null],[null,"1",null,"2","\u266D3"],[null,"4",null,"5","\u266D6"]]}alpha(){return[["5","\u266D6",null,"\u266D7",null],["1",null,"2","\u266D3",null],["4",null,"5","\u266D6",null],["\u266D7",null,"1",null,null],["2","\u266D3",null,"4",null],["5","\u266D6",null,"\u266D7",null]]}golf(){return[[null,"\u266D7",null,"1",null],["2","\u266D3",null,"4",null],["5","\u266D6",null,"\u266D7",null],["1",null,"2","\u266D3",null],[null,"4",null,"5","\u266D6"],[null,"\u266D7",null,"1",null]]}echo(){return[[null,"1",null,"2","\u266D3"],[null,"4",null,"5","\u266D6"],[null,"\u266D7",null,"1",null],["2","\u266D3",null,"4",null],[null,"5","\u266D6",null,"\u266D7"],[null,"1",null,"2","\u266D3"]]}delta(){return[["2","\u266D3",null,"4",null],["5","\u266D6",null,"\u266D7",null],["1",null,"2","\u266D3",null],["4",null,"5","\u266D6",null],[null,"\u266D7",null,"1",null],["2","\u266D3",null,"4",null]]}};var h=class{name(){return"Major Pentatonic"}type(){return"major"}pattern(){return[2,2,3,2,3]}charlie(){return[["3",null,null,"5",null],["6",null,null,"1",null],["2",null,"3",null,null],["5",null,"6",null,null],[null,"1",null,"2",null],["3",null,null,"5",null]]}alpha(){return[[null,"5",null,"6",null],[null,"1",null,"2",null],["3",null,null,"5",null],["6",null,null,"1",null],[null,"2",null,"3",null],[null,"5",null,"6",null]]}golf(){return[["6",null,null,"1",null],["2",null,"3",null,null],["5",null,"6",null,null],["1",null,"2",null,null],["3",null,null,"5",null],["6",null,null,"1",null]]}echo(){return[[null,"1",null,"2",null],["3",null,null,"5",null],["6",null,null,"1",null],["2",null,"3",null,null],[null,"5",null,"6",null],[null,"1",null,"2",null]]}delta(){return[[null,"2",null,"3",null],[null,"5",null,"6",null],[null,"1",null,"2",null],["3",null,null,"5",null],[null,"6",null,null,"1"],[null,"2",null,"3",null]]}};var C=class{name(){return"Minor Pentatonic"}type(){return"minor"}pattern(){return[3,2,2,3,2]}charlie(){return[[null,"4",null,"5",null],[null,"\u266D7",null,"1",null],[null,"\u266D3",null,"4",null],["5",null,null,"\u266D7",null],[null,"1",null,null,"\u266D3"],[null,"4",null,"5",null]]}alpha(){return[["5",null,null,"\u266D7",null],["1",null,null,"\u266D3",null],["4",null,"5",null,null],["\u266D7",null,"1",null,null],[null,"\u266D3",null,"4",null],["5",null,null,"\u266D7",null]]}golf(){return[[null,"\u266D7",null,"1",null],[null,"\u266D3",null,"4",null],["5",null,null,"\u266D7",null],["1",null,null,"\u266D3",null],[null,"4",null,"5",null],[null,"\u266D7",null,"1",null]]}echo(){return[["1",null,null,"\u266D3",null],["4",null,"5",null,null],["\u266D7",null,"1",null,null],["\u266D3",null,"4",null,null],["5",null,null,"\u266D7",null],["1",null,null,"\u266D3",null]]}delta(){return[[null,"\u266D3",null,"4",null],["5",null,null,"\u266D7",null],["1",null,null,"\u266D3",null],["4",null,"5",null,null],[null,"\u266D7",null,"1",null],[null,"\u266D3",null,"4",null]]}};var y=class{name(){return"Major Blues"}type(){return"major"}pattern(){return[2,3,1,1,3,2]}charlie(){return[["3",null,null,"5",null],["6",null,null,"1",null],["2","\u266D3","3",null,null],["5",null,"6",null,null],[null,"1",null,"2","\u266D3"],["3",null,null,"5",null]]}alpha(){return[[null,"5",null,"6",null],[null,"1",null,"2","\u266D3"],["3",null,null,"5",null],["6",null,null,"1",null],[null,"2","\u266D3","3",null],[null,"6",null,"6",null]]}golf(){return[["6",null,null,"1",null],["2","\u266D3","3",null,null],["5",null,"6",null,null],["1",null,"2","\u266D3",null],["3",null,null,"5",null],["6",null,null,"1",null]]}echo(){return[[null,"1",null,"2","\u266D3"],["3",null,null,"5",null],["6",null,null,"1",null],["2","\u266D3","3",null,null],[null,"5",null,"6",null],[null,"1",null,"2","\u266D3"]]}delta(){return[[null,"2","\u266D3","3",null],[null,"5",null,"6",null],[null,"1",null,"2","\u266D3"],["3",null,null,"5",null],[null,"6",null,null,"1"],[null,"2","\u266D3","3",null]]}};var M=class{name(){return"Minor Blues"}type(){return"minor"}pattern(){return[3,2,1,1,3,2]}charlie(){return[[null,"4","\u266D5","5",null],[null,"\u266D7",null,"1",null],[null,"\u266D3",null,"4","\u266D5"],["5",null,null,"\u266D7",null],[null,"1",null,null,"\u266D3"],[null,"4","\u266D5","5",null]]}alpha(){return[["5",null,null,"\u266D7",null],["1",null,null,"\u266D3",null],["4","\u266D5","5",null,null],["\u266D7",null,"1",null,null],[null,"\u266D3",null,"4","\u266D5"],["5",null,null,"\u266D7",null]]}golf(){return[[null,"\u266D7",null,"1",null],[null,"\u266D3",null,"4","\u266D5"],["5",null,null,"\u266D7",null],["1",null,null,"\u266D3",null],[null,"4","\u266D5","5",null],[null,"\u266D7",null,"1",null]]}echo(){return[["1",null,null,"\u266D3",null],["4","\u266D5","5",null,null],["\u266D7",null,"1",null,null],["\u266D3",null,"4","\u266D5",null],["5",null,null,"\u266D7",null],["1",null,null,"\u266D3",null]]}delta(){return[[null,"\u266D3",null,"4","\u266D5"],["5",null,null,"\u266D7",null],["1",null,null,"\u266D3",null],["4","\u266D5","5",null,null],[null,"\u266D7",null,"1",null],[null,"\u266D3",null,"4","\u266D5"]]}};var P=class{scales={naturalMajor:new f,naturalMinor:new p,majorPentatonic:new h,majorBlues:new y,minorPentatonic:new C,minorBlues:new M};semitonesRelativeToC={C:0,"C\u266F":1,"D\u266D":1,D:2,"D\u266F":3,"E\u266D":3,E:4,F:5,"F\u266F":6,"G\u266D":6,G:7,"G\u266F":8,"A\u266D":8,A:9,"A\u266F":10,"B\u266D":10,B:11};getNoteSemitoneRelativeToC(n){let r=this.semitonesRelativeToC[n];if(r===void 0)throw new Error("Unrecognized note: "+n);return r}getStartFret(n,r){let a=["E","A","D","G","B","E"],u=this.getNoteSemitoneRelativeToC(n);if(u===void 0)throw new Error(`Invalid key: ${n}`);let l=[];for(let i of r){if(i.interval!=="1")continue;let o=a[i.string],s=this.getNoteSemitoneRelativeToC(o);if(s===void 0)continue;let v=(u-s-i.fret+12*2)%12;l.push(v)}return l.length===0?0:Math.min(...l)}getScaleMode(n){switch(n){case"Major Scale":return this.scales.naturalMajor;case"Natural Minor":return this.scales.naturalMinor;case"Major Pentatonic":return this.scales.majorPentatonic;case"Minor Pentatonic":return this.scales.minorPentatonic;case"Major Blues":return this.scales.majorBlues;case"Minor Blues":return this.scales.minorBlues;default:throw new Error(`Unknown scale mode: ${n}`)}}getScaleModePosition(n,r){switch(r){case"C":return n.charlie();case"A":return n.alpha();case"G":return n.golf();case"E":return n.echo();case"D":return n.delta();default:throw new Error(`Unknown scale position: ${r}`)}}getScale(n,r){let a=this.getScaleModePosition(this.getScaleMode(n),r),u=[],l=0;return a.forEach(i=>{let o=-1;i.forEach(s=>{o++,s&&u.push(new g(s,l,o))}),l++}),u}};var w=["C","C\u266F","D","D\u266F","E","F","F\u266F","G","G\u266F","A","A\u266F","B"],N=["C","D\u266D","D","E\u266D","E","F","G\u266D","G","A\u266D","A","B\u266D","B"];var S=class{getKeyIntervals(n,r){let a=this.getNotesForKey(n,r),u=a.indexOf(n);if(u===-1)throw new Error(`Key ${n} not found in notes array.`);let l=[...a.slice(u),...a.slice(0,u)];return{1:l[0],"\u266D2":l[1],2:l[2],"\u266D3":l[3],3:l[4],4:l[5],"\u266D5":l[6],5:l[7],"\u266D6":l[8],6:l[9],"\u266D7":l[10],7:l[11]}}getNotesForKey(n,r){switch(r){case"major":return this.getChromaticNotesForMajorKey(n);default:return this.getChromaticNotesForMinorKey(n)}}getChromaticNotesForMajorKey(n){switch(n){case"C":case"G":case"D":case"A":case"E":case"B":case"F\u266F":return w;default:return N}}getChromaticNotesForMinorKey(n){switch(n){case"A":case"E":case"B":case"F\u266F":case"C\u266F":case"G\u266F":case"D\u266F":return w;default:return N}}};var k=new P,G=new S,c=24,x=6,F=5,b=300,D=140,A=16,j=D+A*2,E=D/(x-1),m=b/F,R=[10,7,5,3,2,1],T="#161617",L="#a57034",W="#c0c0c0";function K(t){let n=k.getScale(t.mode,t.position),r=G.getKeyIntervals(t.keyName,t.mode),a=k.getStartFret(t.keyName,n);return e("svg",{viewBox:`0 0 ${b} ${j+c}`,preserveAspectRatio:"xMidYMid meet",className:"w-full h-auto",children:[e("rect",{x:0,y:c,height:j,width:b,fill:T},"fretboard"),e("text",{x:0,y:14,textAnchor:"middle",fontSize:"20",fontWeight:"bold",fill:"white",style:{fontFamily:"serif",letterSpacing:1},children:t.position.charAt(0).toUpperCase()}),Array.from({length:F}).map((u,l)=>{let i=(l+1)*m;return e("text",{x:i-m/2,y:18,textAnchor:"middle",fill:"gray",style:{fontSize:10},children:a+l},"fret-number-"+l)}),Array.from({length:F+1}).map((u,l)=>e("line",{x1:l*m,y1:c,x2:l*m,y2:j+c,stroke:W,strokeWidth:l===0?4:2},"fret-"+l)),Array.from({length:x}).map((u,l)=>{let i=x-1-l,o=l*E+A+c;return e("line",{x1:0,y1:o,x2:b,y2:o,stroke:L,style:{strokeWidth:R[i]},strokeLinecap:"round"},"string-"+l)}),n.map((u,l)=>{let i=(x-1-u.string)*E+A+c,o=u.fret*m+m/2,v=u.interval==="1"?"red":"yellow";return e("g",{children:[e("circle",{cx:o,cy:i,r:12,fill:v,stroke:"black",strokeWidth:1.5}),t.labelMode==="intervals"&&e("text",{x:o-3.5*u.interval.length,y:i+6,textAnchor:"middle",dominantBaseline:"middle",fontSize:"10",fontWeight:"bold",fill:"black",children:u.interval}),t.labelMode==="notes"&&e("text",{x:o-8,y:i+6,fontSize:"10",fontWeight:"bold",fill:"black",textAnchor:"middle",dominantBaseline:"middle",children:r[u.interval]})]},"note-"+l)})]})}function z(){let[t,n]=d("C"),[r,a]=d("none"),[u,l]=d("Major Scale");return e("div",{className:"min-h-screen min-w-screen bg-gray-900 text-gray-100 grid grid-rows-2 grid-cols-3",children:[e("div",{className:"flex flex-col items-center justify-center bg-gray-950 p-4 border border-gray-800",children:[e(B,{selectedKey:t,onKeySelect:n,selectedLabelMode:r,onLabelModeSelect:a}),e("div",{className:"mt-6 space-y-4 w-full",children:e("div",{className:"flex flex-col items-start",children:[e("label",{className:"mb-1 font-semibold",children:"Scale:"}),e("select",{value:u,onChange:o=>l(o.target.value),className:"w-full bg-gray-800 p-2 rounded shadow border border-gray-700",children:[e("option",{children:"Major Scale"}),e("option",{children:"Natural Minor"}),e("option",{children:"Major Pentatonic"}),e("option",{children:"Minor Pentatonic"}),e("option",{children:"Major Blues"}),e("option",{children:"Minor Blues"})]})]})})]}),["C","A","G","E","D"].map(o=>e("div",{className:"flex items-center justify-center bg-gray-800 p-4 border border-gray-700",children:e(K,{keyName:t,position:o,mode:u,labelMode:r})},o))]})}export{z as default};
